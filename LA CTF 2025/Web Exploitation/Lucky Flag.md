### Challenge  
Just click the flag :)

[lucky-flag.chall.lac.tf](https://lucky-flag.chall.lac.tf/)

### Solution  
Upon clicking the website link, we come across this interface:

![Website Page](https://github.com/user-attachments/assets/96c6404f-4bfe-4ba7-9202-68c90f367e2b)

It appears that each flag box is a button. When we click the button, we see that an alert is triggered.

![Alert screenshot](https://github.com/user-attachments/assets/0dd351d4-abb7-486f-8360-bd74042ef41b)

I inspected the HTML source code of the website, but it only had a long list of flag boxes. There was nothing useful. Now, we check the javascript source file. This was the simple code:

    const $ = q => document.querySelector(q);
    const $a = q => document.querySelectorAll(q);
    
    const boxes = $a('.box');
    let flagbox = boxes[Math.floor(Math.random() * boxes.length)];
    
    for (const box of boxes) {
      if (box === flagbox) {
        box.onclick = () => {
          let enc = `"\\u000e\\u0003\\u0001\\u0016\\u0004\\u0019\\u0015V\\u0011=\\u000bU=\\u000e\\u0017\\u0001\\t=R\\u0010=\\u0011\\t\\u000bSS\\u001f"`;
          for (let i = 0; i < enc.length; ++i) {
            try {
              enc = JSON.parse(enc);
            } catch (e) { }
          }
          let rw = [];
          for (const e of enc) {
            rw['\x70us\x68'](e['\x63har\x43ode\x41t'](0) ^ 0x62);
          }
          const x = rw['\x6dap'](x => String['\x66rom\x43har\x43ode'](x));
          alert(`Congrats ${x['\x6aoin']('')}`);
        };
        flagbox = null;
      } else {
        box.onclick = () => alert('no flag here');
      }
    };

We have found our hint! The js code reveals that the correct flag is outputed when we press the correct flagbox. We see that the flag is in the encrypted form of unicode characters in the script, so I wrote a python code to extract the encrypted flag and print it in plaintext form.

    enc = "\u000e\u0003\u0001\u0016\u0004\u0019\u0015V\u0011=\u000bU=\u000e\u0017\u0001\t=R\u0010=\u0011\t\u000bSS\u001f"
    flag = ''.join(chr(ord(c) ^ 0x62) for c in enc)
    print(flag)


Yes! This python script prints our final flag. And the output is:

    lactf{w4s_i7_luck_0r_ski11}

    


